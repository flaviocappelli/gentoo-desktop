## by F.C.
## Last edit: 26/03/2024 (kernel 6.6)

## Enable STD Kernel compression mode (all major distros use it).
## These settings concern compression of the kernel, not modules.
# CONFIG_KERNEL_GZIP is not set
CONFIG_KERNEL_ZSTD=y

## Enable NO_HZ_IDLE, i.e. the best tickless mode for a desktop system
## (NO_HZ_FULL adds too much overhead in user <-> kernel transitions).
## Note: the NO_HZ entry is obsoleted (it is an old config option to
## enable dynticks idle, like NO_HZ_IDLE) and can be safely disabled.
# CONFIG_NO_HZ is not set
CONFIG_NO_HZ_IDLE=y
# CONFIG_NO_HZ_FULL is not set

## Enable Simple tick based cputime accounting and disable Fine
## granularity task level IRQ time accounting (less hoverhead).
CONFIG_TICK_CPU_ACCOUNTING=y
# CONFIG_VIRT_CPU_ACCOUNTING_GEN is not set
# CONFIG_IRQ_TIME_ACCOUNTING is not set

## Get rid of possible warnings in libbpf.
# CONFIG_BPF_PRELOAD is not set

## Enable kernel preemption to provide an high degrees of responsiveness
## (best option for desktop systems). This allows applications to run more
## 'smoothly' even when the system is under load, at the cost of slightly
## lower throughput and a slight runtime overhead to kernel code.
# CONFIG_PREEMPT_VOLUNTARY is not set
CONFIG_PREEMPT=y

## Increase temporary per-CPU log buffer to 8K (safe size).
CONFIG_PRINTK_SAFE_LOG_BUF_SHIFT=13

## Disabled in many distros (including Mint low latency).
# CONFIG_PRINTK_INDEX is not set

## Enables the scheduler to track the clamped utilization of
## each CPU based on RUNNABLE tasks scheduled on that CPU.
CONFIG_UCLAMP_TASK=y
CONFIG_UCLAMP_BUCKETS_COUNT=5

## Enable missing control groups.
CONFIG_UCLAMP_TASK_GROUP=y
CONFIG_CGROUP_RDMA=y

## Disable the expert mode (not required).
# CONFIG_EXPERT is not set

## Option useful in VM, not really required for normal PC. See:
## https://blogs.oracle.com/linux/post/crash-hotplug-kernel-handling
# CONFIG_CRASH_HOTPLUG is not set
